###ADR-002: Use PostgreSQL for flight data storage
Date: 29/5/2025

### Status
Accepted

###Context
The application periodically fetches live flight data from OpenSky and needs a relational database to store flight historical position
data with timestamp, latitude, longitude and altitude. The application needs to store this information for:
- Retrieving flight position history which will be used to display the flight path.
- Mapping flight paths with altitude and timestamp data.

###Decision
Use PostgreSQL as the relational database system due to its reliability, compatibility with Spring Data JPA, ability to
handle complex data relationships and ability to use PostGIS for geospatial data if needed.

Proposed Schema:

Table: **flight**

Description: Stores flight meta data.

| Column         | type    | 
|----------------|---------|
| icao24         | varchar |
| callsign       | varchar |
| origin country | varchar |



Table: **flight_position**

Description: Stores periodic flight position data linked to a flight.

| Column       | Type          | 
|--------------|---------------|
| id           | uuid          |
| icao24       | varchar       |
| Callsign     | varchar       |                        
| Latitude     | double        |
| Longitude    | double        |
| baroaltitude | double        |
| timestamp    | LocalDateTime |
| ColourCode   | varchar       |

One to many relationship - One flight has many positions.

### Consequences
- Well supported by with Spring Data JPA.
- Reliable and scalable.
- Can handle storing and indexing time-series data and complex queries.
- Access to future geospatial support.
